2020-02-29T11:23:18.260_226-08:00 [5155] [====] Start logger: ./srv3.log (32 MB per file, up to 10 files)	[logger.cc:966, start()]
2020-02-29T11:23:18.264_705-08:00 [5155] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:620, asio_rpc_listener()]
2020-02-29T11:23:18.264_733-08:00 [5155] [INFO] parameters: timeout 200 - 400, heartbeat 100, leadership expiry 2000, max batch 100, backoff 50, snapshot distance 5, log sync stop gap 99999, reserved logs 5, client timeout 3000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0	[raft_server.cxx:329, log_current_params()]
2020-02-29T11:23:18.264_740-08:00 [5155] [INFO] new timeout range: 200 -- 400	[raft_server.cxx:283, update_rand_timeout()]
2020-02-29T11:23:18.264_757-08:00 [5155] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:130, raft_server()]
2020-02-29T11:23:18.264_770-08:00 [5155] [INFO] peer 3: DC ID 0, localhoost:10003, voting member, 1
my id: 3, voting_member
num peers: 0	[raft_server.cxx:223, raft_server()]
2020-02-29T11:23:18.264_802-08:00 [5155] [INFO] wait for HB, for 50 + [200, 400] ms	[raft_server.cxx:250, raft_server()]
2020-02-29T11:23:18.264_825-08:00 [f551] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:47, append_entries_in_bg()]
2020-02-29T11:23:18.405_373-08:00 [e54c] [INFO] receive a incoming rpc connection	[asio_service.cxx:679, handle_accept()]
2020-02-29T11:23:18.405_473-08:00 [e54c] [INFO] session 1 got connection from 127.0.0.1:63793 (as a server)	[asio_service.cxx:238, prepare_handshake()]
2020-02-29T11:23:18.405_731-08:00 [07ce] [WARN] [LOG XX] req log idx: 3, req log term: 1, my last log idx: 0, my log (3) term: 0	[handle_append_entries.cxx:454, handle_append_entries()]
2020-02-29T11:23:18.405_746-08:00 [07ce] [WARN] deny, req term 1, my term 1, req log idx 3, my log idx 0	[handle_append_entries.cxx:461, handle_append_entries()]
2020-02-29T11:23:18.406_091-08:00 [e54c] [INFO] receive a config change from leader at 1	[handle_append_entries.cxx:602, handle_append_entries()]
2020-02-29T11:23:18.406_105-08:00 [e54c] [INFO] receive a config change from leader at 2	[handle_append_entries.cxx:602, handle_append_entries()]
2020-02-29T11:23:18.406_112-08:00 [e54c] [INFO] receive a config change from leader at 3	[handle_append_entries.cxx:602, handle_append_entries()]
2020-02-29T11:23:18.406_217-08:00 [f6ca] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:300, commit_conf()]
2020-02-29T11:23:18.406_248-08:00 [f6ca] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:483, reconfigure()]
2020-02-29T11:23:18.406_555-08:00 [f6ca] [INFO] server 1 is added to cluster	[handle_commit.cxx:557, reconfigure()]
2020-02-29T11:23:18.406_562-08:00 [f6ca] [INFO] this server (3) has been removed from the cluster, will step down itself soon. config log idx 1	[handle_commit.cxx:578, reconfigure()]
2020-02-29T11:23:18.406_572-08:00 [f6ca] [INFO] peer 3 cannot be found, no action for removing	[handle_commit.cxx:630, reconfigure()]
2020-02-29T11:23:18.406_577-08:00 [f6ca] [INFO] add peer 1, localhost:10001, voting member	[handle_commit.cxx:635, reconfigure()]
2020-02-29T11:23:18.406_592-08:00 [f6ca] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 0, localhost:10001, voting member, 1
my id: 3, leader: 1, term: 1	[handle_commit.cxx:680, reconfigure()]
2020-02-29T11:23:18.406_662-08:00 [f6ca] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:300, commit_conf()]
2020-02-29T11:23:18.406_675-08:00 [f6ca] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:483, reconfigure()]
2020-02-29T11:23:18.406_935-08:00 [f6ca] [INFO] server 2 is added to cluster	[handle_commit.cxx:557, reconfigure()]
2020-02-29T11:23:18.406_941-08:00 [f6ca] [INFO] this server (3) has been removed from the cluster, will step down itself soon. config log idx 2	[handle_commit.cxx:578, reconfigure()]
2020-02-29T11:23:18.406_946-08:00 [f6ca] [INFO] peer 3 cannot be found, no action for removing	[handle_commit.cxx:630, reconfigure()]
2020-02-29T11:23:18.406_950-08:00 [f6ca] [INFO] add peer 2, localhost:10002, voting member	[handle_commit.cxx:635, reconfigure()]
2020-02-29T11:23:18.406_960-08:00 [f6ca] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 0, localhost:10001, voting member, 1
peer 2, DC ID 0, localhost:10002, voting member, 1
my id: 3, leader: 1, term: 1	[handle_commit.cxx:680, reconfigure()]
2020-02-29T11:23:18.406_971-08:00 [f6ca] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:300, commit_conf()]
2020-02-29T11:23:18.406_986-08:00 [f6ca] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:483, reconfigure()]
2020-02-29T11:23:18.406_999-08:00 [f6ca] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 0, localhost:10001, voting member, 1
peer 2, DC ID 0, localhost:10002, voting member, 1
peer 3, DC ID 0, localhost:10003, voting member, 1
my id: 3, leader: 1, term: 1	[handle_commit.cxx:680, reconfigure()]
2020-02-29T11:23:45.641_952-08:00 [f6ca] [INFO] creating a snapshot for index 5	[handle_commit.cxx:373, snapshot_and_compact()]
2020-02-29T11:23:45.641_985-08:00 [f6ca] [INFO] create snapshot idx 5 log_term 1	[handle_commit.cxx:417, snapshot_and_compact()]
2020-02-29T11:23:45.642_131-08:00 [f6ca] [INFO] create snapshot idx 5 log_term 1 done: 136 us elapsed	[handle_commit.cxx:428, snapshot_and_compact()]
2020-02-29T11:23:55.798_743-08:00 [07ce] [INFO] connected to localhost:10001 (as a client)	[asio_service.cxx:1038, connected()]
2020-02-29T11:24:16.899_154-08:00 [5155] [INFO] shutting down raft core	[raft_server.cxx:344, shutdown()]
2020-02-29T11:24:16.899_424-08:00 [f551] [INFO] bg append_entries thread terminated	[handle_append_entries.cxx:56, append_entries_in_bg()]
2020-02-29T11:24:16.899_543-08:00 [a555] [ERRO] failed to accept a rpc connection due to error 89	[asio_service.cxx:684, handle_accept()]
2020-02-29T11:24:16.899_691-08:00 [a555] [INFO] end of asio worker thread, remaining threads: 1	[asio_service.cxx:1470, worker_entry()]
2020-02-29T11:24:16.899_718-08:00 [07ce] [INFO] end of asio worker thread, remaining threads: 0	[asio_service.cxx:1470, worker_entry()]
2020-02-29T11:24:16.899_699-08:00 [e54c] [INFO] end of asio worker thread, remaining threads: 1	[asio_service.cxx:1470, worker_entry()]
2020-02-29T11:24:16.899_700-08:00 [b7c3] [INFO] end of asio worker thread, remaining threads: 1	[asio_service.cxx:1470, worker_entry()]
2020-02-29T11:24:16.916_717-08:00 [5155] [====] Stop logger: ./srv3.log	[logger.cc:983, stop()]
2020-02-29T11:24:56.948_080-08:00 [1d9c] [====] Start logger: ./srv3.log (32 MB per file, up to 10 files)	[logger.cc:966, start()]
2020-02-29T11:24:56.950_961-08:00 [1d9c] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:620, asio_rpc_listener()]
2020-02-29T11:24:56.950_987-08:00 [1d9c] [INFO] parameters: timeout 200 - 400, heartbeat 100, leadership expiry 2000, max batch 100, backoff 50, snapshot distance 5, log sync stop gap 99999, reserved logs 5, client timeout 3000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0	[raft_server.cxx:329, log_current_params()]
2020-02-29T11:24:56.950_994-08:00 [1d9c] [INFO] new timeout range: 200 -- 400	[raft_server.cxx:283, update_rand_timeout()]
2020-02-29T11:24:56.951_011-08:00 [1d9c] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:130, raft_server()]
2020-02-29T11:24:56.951_023-08:00 [1d9c] [INFO] peer 3: DC ID 0, localhost:10003, voting member, 1
my id: 3, voting_member
num peers: 0	[raft_server.cxx:223, raft_server()]
2020-02-29T11:24:56.951_055-08:00 [1d9c] [INFO] wait for HB, for 50 + [200, 400] ms	[raft_server.cxx:250, raft_server()]
2020-02-29T11:24:56.951_077-08:00 [86d8] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:47, append_entries_in_bg()]
2020-02-29T11:24:57.075_731-08:00 [440f] [INFO] receive a incoming rpc connection	[asio_service.cxx:679, handle_accept()]
2020-02-29T11:24:57.075_857-08:00 [440f] [INFO] session 1 got connection from 127.0.0.1:64322 (as a server)	[asio_service.cxx:238, prepare_handshake()]
2020-02-29T11:24:57.076_059-08:00 [c8e7] [WARN] [LOG XX] req log idx: 6, req log term: 1, my last log idx: 0, my log (6) term: 0	[handle_append_entries.cxx:454, handle_append_entries()]
2020-02-29T11:24:57.076_073-08:00 [c8e7] [WARN] deny, req term 1, my term 1, req log idx 6, my log idx 0	[handle_append_entries.cxx:461, handle_append_entries()]
2020-02-29T11:24:57.076_432-08:00 [c2ab] [INFO] receive a config change from leader at 1	[handle_append_entries.cxx:602, handle_append_entries()]
2020-02-29T11:24:57.076_450-08:00 [c2ab] [INFO] receive a config change from leader at 2	[handle_append_entries.cxx:602, handle_append_entries()]
2020-02-29T11:24:57.076_456-08:00 [c2ab] [INFO] receive a config change from leader at 3	[handle_append_entries.cxx:602, handle_append_entries()]
2020-02-29T11:24:57.076_641-08:00 [54e7] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:300, commit_conf()]
2020-02-29T11:24:57.076_675-08:00 [54e7] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:483, reconfigure()]
2020-02-29T11:24:57.077_033-08:00 [54e7] [INFO] server 1 is added to cluster	[handle_commit.cxx:557, reconfigure()]
2020-02-29T11:24:57.077_042-08:00 [54e7] [INFO] this server (3) has been removed from the cluster, will step down itself soon. config log idx 1	[handle_commit.cxx:578, reconfigure()]
2020-02-29T11:24:57.077_052-08:00 [54e7] [INFO] peer 3 cannot be found, no action for removing	[handle_commit.cxx:630, reconfigure()]
2020-02-29T11:24:57.077_057-08:00 [54e7] [INFO] add peer 1, localhost:10001, voting member	[handle_commit.cxx:635, reconfigure()]
2020-02-29T11:24:57.077_073-08:00 [54e7] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 0, localhost:10001, voting member, 1
my id: 3, leader: 1, term: 1	[handle_commit.cxx:680, reconfigure()]
2020-02-29T11:24:57.077_088-08:00 [54e7] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:300, commit_conf()]
2020-02-29T11:24:57.077_103-08:00 [54e7] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:483, reconfigure()]
2020-02-29T11:24:57.077_374-08:00 [54e7] [INFO] server 2 is added to cluster	[handle_commit.cxx:557, reconfigure()]
2020-02-29T11:24:57.077_380-08:00 [54e7] [INFO] this server (3) has been removed from the cluster, will step down itself soon. config log idx 2	[handle_commit.cxx:578, reconfigure()]
2020-02-29T11:24:57.077_385-08:00 [54e7] [INFO] peer 3 cannot be found, no action for removing	[handle_commit.cxx:630, reconfigure()]
2020-02-29T11:24:57.077_390-08:00 [54e7] [INFO] add peer 2, localhost:10002, voting member	[handle_commit.cxx:635, reconfigure()]
2020-02-29T11:24:57.077_399-08:00 [54e7] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 0, localhost:10001, voting member, 1
peer 2, DC ID 0, localhost:10002, voting member, 1
my id: 3, leader: 1, term: 1	[handle_commit.cxx:680, reconfigure()]
2020-02-29T11:24:57.077_410-08:00 [54e7] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:300, commit_conf()]
2020-02-29T11:24:57.077_425-08:00 [54e7] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:483, reconfigure()]
2020-02-29T11:24:57.077_438-08:00 [54e7] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 0, localhost:10001, voting member, 1
peer 2, DC ID 0, localhost:10002, voting member, 1
peer 3, DC ID 0, localhost:10003, voting member, 1
my id: 3, leader: 1, term: 1	[handle_commit.cxx:680, reconfigure()]
2020-02-29T11:24:57.077_479-08:00 [54e7] [INFO] creating a snapshot for index 5	[handle_commit.cxx:373, snapshot_and_compact()]
2020-02-29T11:24:57.077_489-08:00 [54e7] [INFO] create snapshot idx 5 log_term 1	[handle_commit.cxx:417, snapshot_and_compact()]
2020-02-29T11:24:57.077_522-08:00 [54e7] [INFO] create snapshot idx 5 log_term 1 done: 24 us elapsed	[handle_commit.cxx:428, snapshot_and_compact()]
2020-02-29T11:27:02.485_462-08:00 [8bdc] [INFO] connected to localhost:10001 (as a client)	[asio_service.cxx:1038, connected()]
2020-02-29T11:27:07.130_850-08:00 [1d9c] [INFO] shutting down raft core	[raft_server.cxx:344, shutdown()]
2020-02-29T11:27:07.131_101-08:00 [86d8] [INFO] bg append_entries thread terminated	[handle_append_entries.cxx:56, append_entries_in_bg()]
2020-02-29T11:27:07.131_242-08:00 [440f] [ERRO] failed to accept a rpc connection due to error 89	[asio_service.cxx:684, handle_accept()]
2020-02-29T11:27:07.131_392-08:00 [8bdc] [INFO] end of asio worker thread, remaining threads: 2	[asio_service.cxx:1470, worker_entry()]
2020-02-29T11:27:07.131_392-08:00 [c2ab] [INFO] end of asio worker thread, remaining threads: 1	[asio_service.cxx:1470, worker_entry()]
2020-02-29T11:27:07.131_386-08:00 [440f] [INFO] end of asio worker thread, remaining threads: 2	[asio_service.cxx:1470, worker_entry()]
2020-02-29T11:27:07.131_435-08:00 [c8e7] [INFO] end of asio worker thread, remaining threads: 0	[asio_service.cxx:1470, worker_entry()]
2020-02-29T11:27:07.146_535-08:00 [1d9c] [====] Stop logger: ./srv3.log	[logger.cc:983, stop()]
2020-02-29T11:27:20.990_988-08:00 [8297] [====] Start logger: ./srv3.log (32 MB per file, up to 10 files)	[logger.cc:966, start()]
2020-02-29T11:27:20.994_092-08:00 [8297] [INFO] Raft ASIO listener initiated, UNSECURED	[asio_service.cxx:620, asio_rpc_listener()]
2020-02-29T11:27:20.994_116-08:00 [8297] [INFO] parameters: timeout 200 - 400, heartbeat 100, leadership expiry 2000, max batch 100, backoff 50, snapshot distance 5, log sync stop gap 99999, reserved logs 5, client timeout 3000, auto forwarding ON, API call type BLOCKING, custom commit quorum size 0, custom election quorum size 0	[raft_server.cxx:329, log_current_params()]
2020-02-29T11:27:20.994_121-08:00 [8297] [INFO] new timeout range: 200 -- 400	[raft_server.cxx:283, update_rand_timeout()]
2020-02-29T11:27:20.994_134-08:00 [8297] [INFO]    === INIT RAFT SERVER ===
commit index 0
term 0
election timer allowed
log store start 1, end 0
config log idx 0, prev log idx 0	[raft_server.cxx:130, raft_server()]
2020-02-29T11:27:20.994_143-08:00 [8297] [INFO] peer 3: DC ID 0, localhost:10003, voting member, 1
my id: 3, voting_member
num peers: 0	[raft_server.cxx:223, raft_server()]
2020-02-29T11:27:20.994_175-08:00 [8297] [INFO] wait for HB, for 50 + [200, 400] ms	[raft_server.cxx:250, raft_server()]
2020-02-29T11:27:20.994_209-08:00 [0f6c] [INFO] bg append_entries thread initiated	[handle_append_entries.cxx:47, append_entries_in_bg()]
2020-02-29T11:27:21.072_053-08:00 [e1af] [INFO] receive a incoming rpc connection	[asio_service.cxx:679, handle_accept()]
2020-02-29T11:27:21.072_098-08:00 [e1af] [INFO] session 1 got connection from 127.0.0.1:64511 (as a server)	[asio_service.cxx:238, prepare_handshake()]
2020-02-29T11:27:21.072_246-08:00 [818e] [WARN] [LOG XX] req log idx: 7, req log term: 1, my last log idx: 0, my log (7) term: 0	[handle_append_entries.cxx:454, handle_append_entries()]
2020-02-29T11:27:21.072_254-08:00 [818e] [WARN] deny, req term 1, my term 1, req log idx 7, my log idx 0	[handle_append_entries.cxx:461, handle_append_entries()]
2020-02-29T11:27:21.072_481-08:00 [e1af] [INFO] receive a config change from leader at 1	[handle_append_entries.cxx:602, handle_append_entries()]
2020-02-29T11:27:21.072_487-08:00 [e1af] [INFO] receive a config change from leader at 2	[handle_append_entries.cxx:602, handle_append_entries()]
2020-02-29T11:27:21.072_491-08:00 [e1af] [INFO] receive a config change from leader at 3	[handle_append_entries.cxx:602, handle_append_entries()]
2020-02-29T11:27:21.072_603-08:00 [45f9] [INFO] config at index 1 is committed, prev config log idx 0	[handle_commit.cxx:300, commit_conf()]
2020-02-29T11:27:21.072_622-08:00 [45f9] [INFO] new config log idx 1, prev log idx 0, cur config log idx 0, prev log idx 0	[handle_commit.cxx:483, reconfigure()]
2020-02-29T11:27:21.072_833-08:00 [45f9] [INFO] server 1 is added to cluster	[handle_commit.cxx:557, reconfigure()]
2020-02-29T11:27:21.072_837-08:00 [45f9] [INFO] this server (3) has been removed from the cluster, will step down itself soon. config log idx 1	[handle_commit.cxx:578, reconfigure()]
2020-02-29T11:27:21.072_842-08:00 [45f9] [INFO] peer 3 cannot be found, no action for removing	[handle_commit.cxx:630, reconfigure()]
2020-02-29T11:27:21.072_844-08:00 [45f9] [INFO] add peer 1, localhost:10001, voting member	[handle_commit.cxx:635, reconfigure()]
2020-02-29T11:27:21.072_851-08:00 [45f9] [INFO] new configuration: log idx 1, prev log idx 0
peer 1, DC ID 0, localhost:10001, voting member, 1
my id: 3, leader: 1, term: 1	[handle_commit.cxx:680, reconfigure()]
2020-02-29T11:27:21.072_858-08:00 [45f9] [INFO] config at index 2 is committed, prev config log idx 1	[handle_commit.cxx:300, commit_conf()]
2020-02-29T11:27:21.072_864-08:00 [45f9] [INFO] new config log idx 2, prev log idx 1, cur config log idx 1, prev log idx 0	[handle_commit.cxx:483, reconfigure()]
2020-02-29T11:27:21.072_999-08:00 [45f9] [INFO] server 2 is added to cluster	[handle_commit.cxx:557, reconfigure()]
2020-02-29T11:27:21.073_002-08:00 [45f9] [INFO] this server (3) has been removed from the cluster, will step down itself soon. config log idx 2	[handle_commit.cxx:578, reconfigure()]
2020-02-29T11:27:21.073_004-08:00 [45f9] [INFO] peer 3 cannot be found, no action for removing	[handle_commit.cxx:630, reconfigure()]
2020-02-29T11:27:21.073_006-08:00 [45f9] [INFO] add peer 2, localhost:10002, voting member	[handle_commit.cxx:635, reconfigure()]
2020-02-29T11:27:21.073_011-08:00 [45f9] [INFO] new configuration: log idx 2, prev log idx 1
peer 1, DC ID 0, localhost:10001, voting member, 1
peer 2, DC ID 0, localhost:10002, voting member, 1
my id: 3, leader: 1, term: 1	[handle_commit.cxx:680, reconfigure()]
2020-02-29T11:27:21.073_016-08:00 [45f9] [INFO] config at index 3 is committed, prev config log idx 2	[handle_commit.cxx:300, commit_conf()]
2020-02-29T11:27:21.073_023-08:00 [45f9] [INFO] new config log idx 3, prev log idx 2, cur config log idx 2, prev log idx 1	[handle_commit.cxx:483, reconfigure()]
2020-02-29T11:27:21.073_029-08:00 [45f9] [INFO] new configuration: log idx 3, prev log idx 2
peer 1, DC ID 0, localhost:10001, voting member, 1
peer 2, DC ID 0, localhost:10002, voting member, 1
peer 3, DC ID 0, localhost:10003, voting member, 1
my id: 3, leader: 1, term: 1	[handle_commit.cxx:680, reconfigure()]
2020-02-29T11:27:21.073_050-08:00 [45f9] [INFO] creating a snapshot for index 5	[handle_commit.cxx:373, snapshot_and_compact()]
2020-02-29T11:27:21.073_053-08:00 [45f9] [INFO] create snapshot idx 5 log_term 1	[handle_commit.cxx:417, snapshot_and_compact()]
2020-02-29T11:27:21.073_065-08:00 [45f9] [INFO] create snapshot idx 5 log_term 1 done: 9 us elapsed	[handle_commit.cxx:428, snapshot_and_compact()]
